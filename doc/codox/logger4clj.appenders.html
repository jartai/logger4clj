<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>logger4clj.appenders documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Logger4clj 0.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="logger4clj.appenders.html"><span>logger4clj.appenders</span></a></li><li><a href="logger4clj.formatters.html"><span>logger4clj.formatters</span></a></li><li><a href="logger4clj.logger.html"><span>logger4clj.logger</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="logger4clj.appenders.html#var-create-console-appender"><span>create-console-appender</span></a></li><li><a href="logger4clj.appenders.html#var-create-file-appender"><span>create-file-appender</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>logger4clj.appenders documentation</h2><pre class="doc">Appender and formatter definitions
</pre><div class="public" id="var-create-console-appender"><h3>create-console-appender</h3><div class="usage"><code>(create-console-appender &amp; {formatter :formatter, :or {formatter (create-line-formatter &quot;[${ts:yyyy-MM-dd HH:mm:ss.SSSZ}][${lvl}] ${msg} ${ex}${n}&quot;)}})</code></div><pre class="doc">Creates a console listener that writes to stdout. 

An optional :formatter parameter accepts a formatter as its value, e.g.

(create-console-appender 
       :formatter (create-line-formatter
                    &quot;[${ts:yyyy-MM-dd HH:mm:ss.SSSZ}][${lvl}] ${msg} ${ex}${n}&quot;))

This example shows the default formatter. See specific formatter documentation 
for more information on how to create and configure a formatter.  </pre></div><div class="public" id="var-create-file-appender"><h3>create-file-appender</h3><div class="usage"><code>(create-file-appender filename-or-file &amp; {formatter :formatter, rollover-every :rollover-every, max-logs :max-logs, :or {formatter (create-line-formatter &quot;[${ts:yyyy-MM-dd HH:mm:ss.SSSZ}][${lvl}] ${msg} ${ex}${n}&quot;), rollover-every nil, max-logs -1}})</code></div><pre class="doc">Create file listener that writes to the given file at the given log-level. 
The file stream will remain open until the logger is closed with :close.

Supported options: (see further down for details on each)
     :formatter
     :rollover-every
     :max-logs

An optional :formatter parameter accepts a formatter as its value, e.g.

(create-file-appender &quot;logs/program.log&quot; 
       :formatter (create-line-formatter
                    &quot;[${ts:yyyy-MM-dd HH:mm:ss.SSSZ}][${lvl}] ${msg} ${ex}${n}&quot;))

This example shows the default formatter. See specific formatter documentation 
for more information on how to configure a formatter.  

Rollover Support (:rollover-every)
---------------------------------

Other options allow rolling over of the logfile when a time or file size limit 
is exceeded.

To do this, use the :rollover-every property, e.g.

(create-file-appender &quot;logs/program.log&quot;
        :rollover-every :day) ;; only single units allowed

    -or-

(create-file-appender &quot;logs/program.log&quot;
        :rollover-every [10 :mbytes]) ;; must use vector format

Supported units are:

    Time               File size
    ----               ---------
    :minute            :byte / :bytes
    :hour              :kbyte / :kbytes
    :day               :mbyte / :mbytes
    :month             :gbyte / :gbytes
    :year

Singular and plural forms are interchangeable and provided only for readability.

When a log file is 'rolled-over', it is given a timestamp extension (yyyyMMdd-HHmm). 
E.g.

            program.log                
            program.log.20121221-1400
            program.log.20121221-1300
            program.log.20121221-1200

Cleaning Up Old Log Files (:max-logs)
-------------------------------------

By use the :max-logs option, you can specify the number of log files to keep. This 
calculation will be performed after each roll-over and the oldest files (by 
timestamp suffix) will be deleted from disk. E.g.:

(create-file-appender &quot;logs/program.log&quot;
        :rollover-every [10 :mbytes]
        :max-logs 10)

When this option is not specified, log files will accumulate indefinitely. </pre></div></div></body></html>
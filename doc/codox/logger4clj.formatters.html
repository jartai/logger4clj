<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>logger4clj.formatters documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Logger4clj 0.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="logger4clj.appenders.html"><span>logger4clj.appenders</span></a></li><li class="current"><a href="logger4clj.formatters.html"><span>logger4clj.formatters</span></a></li><li><a href="logger4clj.logger.html"><span>logger4clj.logger</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="logger4clj.formatters.html#var-create-clojure-formatter"><span>create-clojure-formatter</span></a></li><li><a href="logger4clj.formatters.html#var-create-json-formatter"><span>create-json-formatter</span></a></li><li><a href="logger4clj.formatters.html#var-create-line-formatter"><span>create-line-formatter</span></a></li><li><a href="logger4clj.formatters.html#var-create-xml-formatter"><span>create-xml-formatter</span></a></li><li><a href="logger4clj.formatters.html#var-create-yaml-formatter"><span>create-yaml-formatter</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>logger4clj.formatters documentation</h2><pre class="doc"></pre><div class="public" id="var-create-clojure-formatter"><h3>create-clojure-formatter</h3><div class="usage"><code>(create-clojure-formatter &amp; {timestamp-format :timestamp-format, :or {timestamp-format &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;}})</code></div><pre class="doc">Creates a new formatter with output as a clojure datastructure. An
optional parameter :timestamp-format accepts a string in java.text.SimpleDateFormat
format. The default value is yyyy-MM-dd HH:mm:ss.SSSZ. 

{:timestamp &quot;2012-12-09 21:27:39.607-0800&quot;
 :log-level :error
 :category &quot;my-log&quot;
 :file-name &quot;sample_logger.clj&quot;
 :line-number 35
 :message  &quot;An error was encountered!&quot;
 :exception  {:class     &quot;java.lang.IllegalStateException&quot;
   :message   &quot;Divide by zero!&quot;
   :stacktrace (
      {:className &quot;sample_logger$eval4216&quot; :fileName &quot;sample_logger.clj&quot; :lineNumber 33 :methodName &quot;invoke&quot; }
      {:className &quot;clojure.lang.Compiler&quot; :fileName &quot;Compiler.java&quot; :lineNumber 6511 :methodName &quot;eval&quot; }
      )
  :cause
    {:class     &quot;java.lang.ArithmeticException&quot;
     :message   &quot;Divide by zero&quot;
     :stacktrace (
        {:className &quot;clojure.lang.Numbers&quot; :fileName &quot;Numbers.java&quot; :lineNumber 156 :methodName &quot;divide&quot; }
        {:className &quot;clojure.lang.Numbers&quot; :fileName &quot;Numbers.java&quot; :lineNumber 3691 :methodName &quot;divide&quot; }
        )
    }
  }
}</pre></div><div class="public" id="var-create-json-formatter"><h3>create-json-formatter</h3><div class="usage"><code>(create-json-formatter &amp; {timestamp-format :timestamp-format, :or {timestamp-format &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;}})</code></div><pre class="doc">Creates a new formatter with output in JSON format (http://www.json.org). An
optional parameter :timestamp-format accepts a string in java.text.SimpleDateFormat
format. The default value is yyyy-MM-dd HH:mm:ss.SSSZ. 

E.g. (stacktraces are truncated in this example):  
{ &quot;timestamp&quot;:&quot;2012-12-09 21:19:20.841-0800&quot;, 
 &quot;log-level&quot;:&quot;ERROR&quot;, 
 &quot;category&quot;:&quot;my-log&quot;, 
 &quot;file-name&quot;:&quot;sample_logger.clj&quot;, 
 &quot;line-number&quot;: 35, 
 &quot;message&quot;:&quot;An error was encountered!&quot;,
 &quot;exception&quot;:    { &quot;class&quot;:&quot;java.lang.IllegalStateException&quot;,
      &quot;message&quot;:&quot;Divide by zero!&quot;,
      &quot;stacktrace&quot;: [
        {&quot;className&quot;:&quot;sample_logger$eval4086&quot;, &quot;fileName&quot;:&quot;sample_logger.clj&quot;,&quot;lineNumber&quot;:33, &quot;methodName&quot;:&quot;invoke&quot;}
        {&quot;className&quot;:&quot;clojure.lang.Compiler&quot;, &quot;fileName&quot;:&quot;Compiler.java&quot;,&quot;lineNumber&quot;:6511, &quot;methodName&quot;:&quot;eval&quot;}
       ]
     &quot;cause&quot;:
        { &quot;class&quot;:&quot;java.lang.ArithmeticException&quot;,
          &quot;message&quot;:&quot;Divide by zero&quot;,
          &quot;stacktrace&quot;: [
            {&quot;className&quot;:&quot;clojure.lang.Numbers&quot;, &quot;fileName&quot;:&quot;Numbers.java&quot;,&quot;lineNumber&quot;:156, &quot;methodName&quot;:&quot;divide&quot;}
            {&quot;className&quot;:&quot;clojure.lang.Numbers&quot;, &quot;fileName&quot;:&quot;Numbers.java&quot;,&quot;lineNumber&quot;:3691, &quot;methodName&quot;:&quot;divide&quot;}
           ]
        }
    }
}</pre></div><div class="public" id="var-create-line-formatter"><h3>create-line-formatter</h3><div class="usage"><code>(create-line-formatter format-str)</code></div><pre class="doc">Creates a formatter using the given specification.

E.g. (stacktraces are truncated in this example):  
[${ts:yyyy-MM-dd HH:mm:ss.SSSZ}][${lvl}] ${msg} (${fn}:${ln}) ${ex}${n} ==&gt;

[2012-12-09 21:19:20.841-0800][ERROR] An error was encountered! (sample_logger.clj:35) 
java.lang.IllegalStateException: Divide by zero!
        at sample_logger$eval4086.invoke(sample_logger.clj:33)
        at clojure.lang.Compiler.eval(Compiler.java:6511)
Caused by: java.lang.ArithmeticException: Divide by zero
        at clojure.lang.Numbers.divide(Numbers.java:156)
        at clojure.lang.Numbers.divide(Numbers.java:3691)
        ... 25 more

Supported fields:
    ${ts}  - timestamp with optional timestamp format specification using 
             java.text.SimpleDateFormat formatting. The date format is
             placed after a colon with the curly-braces as shown in the example
             above. The default SimpleDateFormat is yyyy-MM-dd HH:mm:ss.SSSZ. 
    ${lvl} - log level, e.g. DEBUG, ERROR, etc
    ${cat} - category (name of the source logger), usually used to filter log
             messages
    ${msg} - the log message
    ${ex}  - the exception stacktrace (if any). This will always be preceeded 
             by a newline. This may alternatively be specified as ${ex:stack},
             or to print the exception message only, ${ex:msg}.
    ${fn}  - file name
    ${ln}  - line number within the file designated in ${fn}
    ${n}   - platform line ending

Remember to put a newline at the end if you want each message on a separate
line!.</pre></div><div class="public" id="var-create-xml-formatter"><h3>create-xml-formatter</h3><div class="usage"><code>(create-xml-formatter &amp; {timestamp-format :timestamp-format, :or {timestamp-format &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;}})</code></div><pre class="doc">Creates a new formatter with output in XML format. The XML is not a closed document, 
but a series of &lt;log-message&gt; tags with no namespace. An optional parameter 
:timestamp-format accepts a string in java.text.SimpleDateFormat format. The 
default value is yyyy-MM-dd HH:mm:ss.SSSZ. 

E.g. (stacktraces are truncated in this example):  

&lt;log-message&gt;
    &lt;timestamp&gt;2012-12-09 21:25:32.229-0800&lt;/timestamp&gt;
    &lt;log-level&gt;ERROR&lt;/log-level&gt;
    &lt;category&gt;my-log&lt;/category&gt;
    &lt;file-name&gt;sample_logger.clj&lt;/file-name&gt;
    &lt;line-number&gt;35&lt;/line-number&gt;
    &lt;message&gt;An error was encountered!&lt;/message&gt;
    &lt;exception&gt;
            &lt;class&gt;java.lang.IllegalStateException&lt;/class&gt;
            &lt;message&gt;Divide by zero!&lt;/message&gt;
            &lt;stacktrace&gt;
                &lt;element className=&quot;sample_logger$eval4168&quot; fileName=&quot;sample_logger.clj&quot; lineNumber=&quot;33&quot; methodName=&quot;invoke&quot;/&gt;
                &lt;element className=&quot;clojure.lang.Compiler&quot; fileName=&quot;Compiler.java&quot; lineNumber=&quot;6511&quot; methodName=&quot;eval&quot;/&gt;
            &lt;/stacktrace&gt;
            &lt;cause&gt;
                &lt;class&gt;java.lang.ArithmeticException&lt;/class&gt;
                &lt;message&gt;Divide by zero&lt;/message&gt;
                &lt;stacktrace&gt;
                    &lt;element className=&quot;clojure.lang.Numbers&quot; fileName=&quot;Numbers.java&quot; lineNumber=&quot;156&quot; methodName=&quot;divide&quot;/&gt;
                    &lt;element className=&quot;clojure.lang.Numbers&quot; fileName=&quot;Numbers.java&quot; lineNumber=&quot;3691&quot; methodName=&quot;divide&quot;/&gt;
                &lt;/stacktrace&gt;
            &lt;/cause&gt;
    &lt;/exception&gt;
&lt;/log-message&gt;</pre></div><div class="public" id="var-create-yaml-formatter"><h3>create-yaml-formatter</h3><div class="usage"><code>(create-yaml-formatter &amp; {timestamp-format :timestamp-format, :or {timestamp-format &quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;}})</code></div><pre class="doc">Creates a new formatter with output in YAML format (http://www.yaml.org). An
optional parameter :timestamp-format accepts a string in java.text.SimpleDateFormat
format. The default value is yyyy-MM-dd HH:mm:ss.SSSZ. 

E.g. (stacktraces are truncated in this example):  
---
timestamp:    2012-12-09 21:24:48.958-0800
log-level:    ERROR
category:     my-log
file-name:    sample_logger.clj
line-number:  35
message:      An error was encountered!
    exception:
        class:      java.lang.IllegalStateException
        message:    Divide by zero!
        stacktrace: 
            - {className: sample_logger$eval4128, fileName: sample_logger.clj, lineNumber: 33, methodName: invoke}
            - {className: clojure.lang.Compiler, fileName: Compiler.java, lineNumber: 6511, methodName: eval}
        cause:
            exception:
                class:      java.lang.ArithmeticException
                message:    Divide by zero
                stacktrace: 
                    - {className: clojure.lang.Numbers, fileName: Numbers.java, lineNumber: 156, methodName: divide}
                    - {className: clojure.lang.Numbers, fileName: Numbers.java, lineNumber: 3691, methodName: divide}</pre></div></div></body></html>